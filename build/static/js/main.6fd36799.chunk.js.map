{"version":3,"sources":["redux/store.js","components/Container/Container.js","components/AuthNav/AuthNav.js","components/Navigation/Navigation.js","components/UserMenu/default-avatar.png","components/UserMenu/UserMenu.js","components/AppBar/AppBar.js","PrivateRoute.js","PublicRoute.js","App.js","index.js","redux/auth/auth-selectors.js","services/user-api.js","redux/auth/auth-operations.js","services/contacts-api.js","redux/contacts/contacts-operations.js","components/AuthNav/AuthNav.module.css","components/Navigation/Navigation.module.css","redux/auth/auth-slice.js","components/UserMenu/UserMenu.module.css","redux/contacts/contacts-slice.js","components/Container/Container.module.css","components/AppBar/AppBar.module.css"],"names":["middleware","getDefaultMiddleware","serializableCheck","ignoredActions","FLUSH","REHYDRATE","PAUSE","PERSIST","PURGE","REGISTER","authPersistConfig","key","storage","whitelist","store","configureStore","reducer","auth","persistReducer","authReducer","contacts","contactsReducer","devTools","process","persistor","persistStore","Container","children","className","s","container","AuthNav","to","isActive","activeLink","link","Navigation","isLoggedIn","useSelector","authSelectors","getIsLoggedIn","UserMenu","dispatch","useDispatch","name","getUserName","avatar","defaultAvatar","src","alt","width","text","Button","onClick","authOperations","logOut","variant","AppBar","header","PrivateRoute","redirectTo","PublicRoute","restricted","override","css","HomePage","lazy","RegisterPage","LoginPage","ContactsPage","NotFoundPage","App","isFetchingCurrentUser","getIsFetchingCurrent","useEffect","fetchCurrentUser","fallback","size","path","element","ReactDOM","render","StrictMode","loading","document","getElementById","state","user","token","axios","defaults","headers","common","Authorization","register","credentials","a","post","data","logIn","get","createAsyncThunk","rejectWithValue","authAPI","message","_","thunkAPI","getState","persistedToken","operations","fetchContacts","addContact","number","deleteContact","id","delete","baseURL","contactsAPI","contact","module","exports","authSlice","createSlice","initialState","email","extraReducers","fulfilled","payload","action","pending","rejected","contactsSlice","items","filter","error","reducers","actions"],"mappings":"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","file":"static/js/main.6fd36799.chunk.js","sourcesContent":["import {\r\n  configureStore,\r\n  getDefaultMiddleware,\r\n} from '@reduxjs/toolkit';\r\nimport {\r\n  persistReducer,\r\n  persistStore,\r\n  FLUSH,\r\n  REHYDRATE,\r\n  PAUSE,\r\n  PERSIST,\r\n  PURGE,\r\n  REGISTER,\r\n} from 'redux-persist';\r\nimport storage from 'redux-persist/lib/storage';\r\nimport contactsReducer from './contacts/contacts-slice';\r\nimport authReducer from './auth/auth-slice';\r\n\r\nconst middleware = [\r\n  ...getDefaultMiddleware({\r\n    serializableCheck: {\r\n      ignoredActions: [\r\n        FLUSH,\r\n        REHYDRATE,\r\n        PAUSE,\r\n        PERSIST,\r\n        PURGE,\r\n        REGISTER,\r\n      ],\r\n    },\r\n  }),\r\n];\r\n\r\nconst authPersistConfig = {\r\n  key: 'auth',\r\n  storage,\r\n  whitelist: ['token'],\r\n};\r\n\r\nexport const store = configureStore({\r\n  reducer: {\r\n    auth: persistReducer(authPersistConfig, authReducer),\r\n    contacts: contactsReducer,\r\n  },\r\n  middleware,\r\n  devTools: process.env.NODE_ENV === 'development',\r\n});\r\n\r\nexport const persistor = persistStore(store);\r\n","import s from './Container.module.css';\r\n\r\nexport default function Container({ children }) {\r\n  return <div className={s.container}>{children}</div>;\r\n}\r\n","import { NavLink } from 'react-router-dom';\r\nimport s from './AuthNav.module.css';\r\n\r\nexport default function AuthNav() {\r\n  return (\r\n    <div>\r\n      <NavLink\r\n        to=\"/register\"\r\n        className={({ isActive }) =>\r\n          isActive ? s.activeLink : s.link\r\n        }\r\n      >\r\n        Register\r\n      </NavLink>\r\n      <NavLink\r\n        to=\"/login\"\r\n        className={({ isActive }) =>\r\n          isActive ? s.activeLink : s.link\r\n        }\r\n      >\r\n        Login\r\n      </NavLink>\r\n    </div>\r\n  );\r\n}\r\n","import { NavLink } from 'react-router-dom';\r\nimport s from './Navigation.module.css';\r\nimport { authSelectors } from 'redux/auth';\r\nimport { useSelector } from 'react-redux';\r\n\r\nexport default function Navigation() {\r\n  const isLoggedIn = useSelector(authSelectors.getIsLoggedIn);\r\n\r\n  return (\r\n    <nav>\r\n      <NavLink\r\n        to=\"/\"\r\n        className={({ isActive }) => (isActive ? s.activeLink : s.link)}\r\n      >\r\n        Welcome\r\n      </NavLink>\r\n\r\n      {isLoggedIn && (\r\n        <NavLink\r\n          to=\"/contacts\"\r\n          className={({ isActive }) => (isActive ? s.activeLink : s.link)}\r\n        >\r\n          Contacts\r\n        </NavLink>\r\n      )}\r\n    </nav>\r\n  );\r\n}\r\n","export default __webpack_public_path__ + \"static/media/default-avatar.2a907e6b.png\";","import { useDispatch, useSelector } from 'react-redux';\r\nimport { authSelectors, authOperations } from 'redux/auth';\r\nimport defaultAvatar from './default-avatar.png';\r\nimport s from './UserMenu.module.css';\r\nimport Button from '@mui/material/Button';\r\n\r\nexport default function UserMenu() {\r\n  const dispatch = useDispatch();\r\n  const name = useSelector(authSelectors.getUserName);\r\n  const avatar = defaultAvatar;\r\n\r\n  return (\r\n    <div className={s.container}>\r\n      <img className={s.avatar} src={avatar} alt=\"user avatar\" width=\"32\" />\r\n      <span className={s.text}>Welcome, {name}</span>\r\n      <Button\r\n        onClick={() => dispatch(authOperations.logOut())}\r\n        variant=\"contained\"\r\n      >\r\n        Log out\r\n      </Button>\r\n    </div>\r\n  );\r\n}\r\n","import AuthNav from 'components/AuthNav';\r\nimport Navigation from 'components/Navigation';\r\nimport UserMenu from 'components/UserMenu';\r\nimport { useSelector } from 'react-redux';\r\nimport { authSelectors } from 'redux/auth';\r\nimport s from './AppBar.module.css';\r\n\r\nexport default function AppBar() {\r\n  const isLoggedIn = useSelector(authSelectors.getIsLoggedIn);\r\n\r\n  return (\r\n    <header className={s.header}>\r\n      <Navigation />\r\n      {isLoggedIn ? <UserMenu /> : <AuthNav />}\r\n    </header>\r\n  );\r\n}\r\n","import { useSelector } from 'react-redux';\r\nimport { Navigate } from 'react-router-dom';\r\nimport { authSelectors } from 'redux/auth';\r\n\r\nexport default function PrivateRoute({ redirectTo = '/', children }) {\r\n  const isLoggedIn = useSelector(authSelectors.getIsLoggedIn);\r\n  return isLoggedIn ? children : <Navigate to={redirectTo} />;\r\n}\r\n","import { useSelector } from 'react-redux';\r\nimport { authSelectors } from 'redux/auth';\r\nimport { Navigate } from 'react-router-dom';\r\n\r\nexport default function PublicRoute({\r\n  children,\r\n  redirectTo = '/',\r\n  restricted = false,\r\n}) {\r\n  const isLoggedIn = useSelector(authSelectors.getIsLoggedIn);\r\n  const shouldRedirect = isLoggedIn && restricted;\r\n  return shouldRedirect ? <Navigate to={redirectTo} /> : children;\r\n}\r\n","import { Suspense, useEffect, lazy } from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { Routes, Route } from 'react-router-dom';\r\nimport { PropagateLoader } from 'react-spinners';\r\nimport { css } from '@emotion/react';\r\nimport { authOperations } from 'redux/auth';\r\nimport { authSelectors } from 'redux/auth';\r\nimport Container from 'components/Container';\r\nimport AppBar from 'components/AppBar';\r\nimport PrivateRoute from 'PrivateRoute';\r\nimport PublicRoute from 'PublicRoute';\r\n\r\nconst override = css`\r\n  display: block;\r\n  text-align: center;\r\n  border-color: black;\r\n`;\r\n\r\nconst HomePage = lazy(() =>\r\n  import(/* webpackChunkName: \"HomePage\" */ './pages/HomePage'),\r\n);\r\nconst RegisterPage = lazy(() =>\r\n  import(/* webpackChunkName: \"RegisterPage\" */ './pages/RegisterPage'),\r\n);\r\nconst LoginPage = lazy(() =>\r\n  import(/* webpackChunkName: \"LoginPage\" */ './pages/LoginPage'),\r\n);\r\nconst ContactsPage = lazy(() =>\r\n  import(/* webpackChunkName: \"ContactsPage\" */ './pages/ContactsPage'),\r\n);\r\nconst NotFoundPage = lazy(() =>\r\n  import(/* webpackChunkName: \"NotFoundPage\" */ './pages/NotFoundPage'),\r\n);\r\n\r\nexport default function App() {\r\n  const dispatch = useDispatch();\r\n  const isFetchingCurrentUser = useSelector(authSelectors.getIsFetchingCurrent);\r\n\r\n  useEffect(() => {\r\n    dispatch(authOperations.fetchCurrentUser());\r\n  }, [dispatch]);\r\n\r\n  return (\r\n    !isFetchingCurrentUser && (\r\n      <Container>\r\n        <AppBar />\r\n        <Suspense fallback={<PropagateLoader css={override} size={15} />}>\r\n          <Routes>\r\n            <Route\r\n              path=\"/\"\r\n              element={\r\n                <PublicRoute>\r\n                  <HomePage />\r\n                </PublicRoute>\r\n              }\r\n            ></Route>\r\n\r\n            <Route\r\n              path=\"/register\"\r\n              element={\r\n                <PublicRoute restricted redirectTo=\"/login\">\r\n                  <RegisterPage />\r\n                </PublicRoute>\r\n              }\r\n            ></Route>\r\n\r\n            <Route\r\n              path=\"/login\"\r\n              element={\r\n                <PublicRoute restricted redirectTo=\"/contacts\">\r\n                  <LoginPage />\r\n                </PublicRoute>\r\n              }\r\n            ></Route>\r\n\r\n            <Route path=\"*\" element={<NotFoundPage />} />\r\n\r\n            <Route\r\n              path=\"/contacts\"\r\n              element={\r\n                <PrivateRoute redirectTo=\"/login\">\r\n                  <ContactsPage />\r\n                </PrivateRoute>\r\n              }\r\n            ></Route>\r\n          </Routes>\r\n        </Suspense>\r\n      </Container>\r\n    )\r\n  );\r\n}\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport { BrowserRouter } from 'react-router-dom';\r\nimport { PersistGate } from 'redux-persist/integration/react';\r\nimport { Provider } from 'react-redux';\r\nimport { store, persistor } from './redux/store';\r\nimport App from './App';\r\nimport './styles.css';\r\nimport '@fontsource/roboto/300.css';\r\nimport '@fontsource/roboto/400.css';\r\nimport '@fontsource/roboto/500.css';\r\nimport '@fontsource/roboto/700.css';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <Provider store={store}>\r\n      <PersistGate loading={null} persistor={persistor}>\r\n        <BrowserRouter>\r\n          <App />\r\n        </BrowserRouter>\r\n      </PersistGate>\r\n    </Provider>\r\n  </React.StrictMode>,\r\n  document.getElementById('root'),\r\n);\r\n","const getIsLoggedIn = state => state.auth.isLoggedIn;\r\n\r\nconst getUserName = state => state.auth.user.name;\r\n\r\nconst getIsFetchingCurrent = state => state.auth.isFetchingCurrentUser;\r\n\r\nconst authSelectors = { getIsLoggedIn, getUserName, getIsFetchingCurrent };\r\n\r\nexport default authSelectors;\r\n","import axios from 'axios';\r\n\r\nexport const token = {\r\n  set(token) {\r\n    axios.defaults.headers.common.Authorization = `Bearer ${token}`;\r\n  },\r\n  unset() {\r\n    axios.defaults.headers.common.Authorization = '';\r\n  },\r\n};\r\n\r\nexport async function register(credentials) {\r\n  const { data } = await axios.post(`/users/signup`, credentials);\r\n  return data;\r\n}\r\n\r\nexport async function logIn(credentials) {\r\n  const { data } = await axios.post(`/users/login`, credentials);\r\n  return data;\r\n}\r\n\r\nexport async function logOut() {\r\n  const { data } = await axios.post(`/users/logout`);\r\n  return data;\r\n}\r\n\r\nexport async function fetchCurrentUser() {\r\n  const { data } = await axios.get('/users/current');\r\n  return data;\r\n}\r\n","import * as authAPI from 'services/user-api';\r\nimport { createAsyncThunk } from '@reduxjs/toolkit';\r\n\r\nconst register = createAsyncThunk(\r\n  'auth/register ',\r\n  async (credentials, { rejectWithValue }) => {\r\n    try {\r\n      const user = await authAPI.register(credentials);\r\n      authAPI.token.set(user.token);\r\n      return user;\r\n    } catch (error) {\r\n      return rejectWithValue(error.message);\r\n    }\r\n  },\r\n);\r\n\r\nconst logIn = createAsyncThunk(\r\n  'auth/login ',\r\n  async (credentials, { rejectWithValue }) => {\r\n    try {\r\n      const user = await authAPI.logIn(credentials);\r\n      authAPI.token.set(user.token);\r\n      return user;\r\n    } catch (error) {\r\n      return rejectWithValue(error.message);\r\n    }\r\n  },\r\n);\r\n\r\nconst logOut = createAsyncThunk(\r\n  'auth/logout ',\r\n  async (credentials, { rejectWithValue }) => {\r\n    try {\r\n      await authAPI.logOut();\r\n      authAPI.token.unset();\r\n    } catch (error) {\r\n      return rejectWithValue(error.message);\r\n    }\r\n  },\r\n);\r\n\r\nconst fetchCurrentUser = createAsyncThunk(\r\n  'auth/refresh',\r\n  async (_, thunkAPI) => {\r\n    const state = thunkAPI.getState();\r\n    const persistedToken = state.auth.token;\r\n\r\n    if (persistedToken === null) {\r\n      thunkAPI.rejectWithValue();\r\n    }\r\n\r\n    authAPI.token.set(persistedToken);\r\n\r\n    try {\r\n      const user = authAPI.fetchCurrentUser();\r\n      return user;\r\n    } catch (error) {\r\n      return thunkAPI.rejectWithValue(error.message);\r\n    }\r\n  },\r\n);\r\n\r\nconst operations = {\r\n  register,\r\n  logOut,\r\n  logIn,\r\n  fetchCurrentUser,\r\n};\r\nexport default operations;\r\n","import axios from 'axios';\r\n\r\naxios.defaults.baseURL = 'https://connections-api.herokuapp.com';\r\n\r\nexport async function fetchContacts() {\r\n  const { data } = await axios.get(`/contacts`);\r\n\r\n  return data;\r\n}\r\n\r\nexport async function addContact(name, number) {\r\n  const { data } = await axios.post(`/contacts`, {\r\n    name,\r\n    number,\r\n  });\r\n  return data;\r\n}\r\n\r\nexport async function deleteContact(id) {\r\n  const { data } = await axios.delete(`/contacts/${id}`);\r\n  return data;\r\n}\r\n","import * as contactsAPI from 'services/contacts-api';\r\nimport { createAsyncThunk } from '@reduxjs/toolkit';\r\n\r\nexport const fetchContacts = createAsyncThunk(\r\n  'contacts/FetchContacts',\r\n  async (_, { rejectWithValue }) => {\r\n    try {\r\n      const contacts = await contactsAPI.fetchContacts();\r\n      return contacts;\r\n    } catch (error) {\r\n      return rejectWithValue(error.message);\r\n    }\r\n  },\r\n);\r\n\r\nexport const addContact = createAsyncThunk(\r\n  'contacts/AddContact',\r\n  async ({ name, number }, { rejectWithValue }) => {\r\n    try {\r\n      const contact = await contactsAPI.addContact(name, number);\r\n      return contact;\r\n    } catch (error) {\r\n      return rejectWithValue(error.message);\r\n    }\r\n  },\r\n);\r\n\r\nexport const deleteContact = createAsyncThunk(\r\n  'contacts/DeleteContact',\r\n  async (id, { rejectWithValue }) => {\r\n    try {\r\n      await contactsAPI.deleteContact(id);\r\n      return id;\r\n    } catch (error) {\r\n      return rejectWithValue(error.message);\r\n    }\r\n  },\r\n);\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"link\":\"AuthNav_link__3VN7I\",\"activeLink\":\"AuthNav_activeLink__2j9tw AuthNav_link__3VN7I\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"link\":\"Navigation_link__14UxU\",\"activeLink\":\"Navigation_activeLink__3d6ZI Navigation_link__14UxU\"};","import { createSlice } from '@reduxjs/toolkit';\r\nimport authOperations from './auth-operations';\r\n\r\nconst initialState = {\r\n  user: { name: null, email: null },\r\n  token: null,\r\n  isLoggedIn: false,\r\n  isFetchingCurrentUser: false,\r\n};\r\n\r\nconst authSlice = createSlice({\r\n  name: 'auth',\r\n  initialState,\r\n  extraReducers: {\r\n    [authOperations.register.fulfilled](state, { payload }) {\r\n      state.user = payload.user;\r\n      state.token = payload.token;\r\n      state.isLoggedIn = true;\r\n    },\r\n    [authOperations.logIn.fulfilled](state, { payload }) {\r\n      state.user = payload.user;\r\n      state.token = payload.token;\r\n      state.isLoggedIn = true;\r\n    },\r\n    [authOperations.logOut.fulfilled](state, action) {\r\n      state.user = { name: null, email: null };\r\n      state.token = null;\r\n      state.isLoggedIn = false;\r\n    },\r\n    [authOperations.fetchCurrentUser.pending](state) {\r\n      state.isFetchingCurrentUser = true;\r\n    },\r\n    [authOperations.fetchCurrentUser.fulfilled](state, { payload }) {\r\n      state.user = { ...payload };\r\n      state.isLoggedIn = true;\r\n      state.isFetchingCurrentUser = false;\r\n    },\r\n    [authOperations.fetchCurrentUser.rejected](state) {\r\n      state.isFetchingCurrentUser = false;\r\n    },\r\n  },\r\n});\r\n\r\nexport default authSlice.reducer;\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"UserMenu_container__3nKYN\",\"text\":\"UserMenu_text__1Zjhn\",\"link\":\"UserMenu_link__3osnX\",\"avatar\":\"UserMenu_avatar__3py45\"};","import { createSlice } from '@reduxjs/toolkit';\r\nimport {\r\n  fetchContacts,\r\n  deleteContact,\r\n  addContact,\r\n} from './contacts-operations';\r\n\r\nconst contactsSlice = createSlice({\r\n  name: 'contacts',\r\n  initialState: { items: [], filter: '', error: null },\r\n  reducers: {\r\n    filter: (state, { payload }) => {\r\n      state.filter = payload;\r\n    },\r\n  },\r\n  extraReducers: {\r\n    [fetchContacts.fulfilled]: (state, { payload }) => {\r\n      state.items = payload;\r\n    },\r\n    [addContact.fulfilled]: (state, { payload }) => {\r\n      state.items = [...state.items, payload];\r\n    },\r\n    [deleteContact.fulfilled]: (state, { payload }) => {\r\n      state.items = state.items.filter(({ id }) => id !== payload);\r\n    },\r\n    [fetchContacts.rejected]: (state, { payload }) => {\r\n      state.error = payload;\r\n    },\r\n    [addContact.rejected]: (state, { payload }) => {\r\n      state.error = payload;\r\n    },\r\n    [deleteContact.rejected]: (state, { payload }) => {\r\n      state.error = payload;\r\n    },\r\n  },\r\n});\r\n\r\nconst contactsReducer = contactsSlice.reducer;\r\nexport default contactsReducer;\r\nexport const { filter } = contactsSlice.actions;\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"Container_container__2tTuW\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"AppBar_header__3jJxg\"};"],"sourceRoot":""}